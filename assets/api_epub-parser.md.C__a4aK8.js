import{_ as s,c as a,o as e,ah as t}from"./chunks/framework.BEBVyHNm.js";const c=JSON.parse('{"title":"API 参考","description":"","frontmatter":{},"headers":[],"relativePath":"api/epub-parser.md","filePath":"api/epub-parser.md"}'),l={name:"api/epub-parser.md"};function p(h,i,n,r,k,d){return e(),a("div",null,[...i[0]||(i[0]=[t('<h1 id="api-参考" tabindex="-1">API 参考 <a class="header-anchor" href="#api-参考" aria-label="Permalink to “API 参考”">​</a></h1><h2 id="epubparser" tabindex="-1">EpubParser <a class="header-anchor" href="#epubparser" aria-label="Permalink to “EpubParser”">​</a></h2><p><code>EpubParser</code> 是 EPUBime 库的主要解析器类，负责解析 EPUB 文件并生成 <code>EpubBook</code> 对象。</p><h3 id="构造函数" tabindex="-1">构造函数 <a class="header-anchor" href="#构造函数" aria-label="Permalink to “构造函数”">​</a></h3><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> EpubParser</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(File epubFile)</span></span></code></pre></div><p>创建一个新的 EPUB 解析器实例。</p><p>参数:</p><ul><li><code>epubFile</code>: 要解析的 EPUB 文件</li></ul><h3 id="主要方法" tabindex="-1">主要方法 <a class="header-anchor" href="#主要方法" aria-label="Permalink to “主要方法”">​</a></h3><h4 id="parse" tabindex="-1">parse() <a class="header-anchor" href="#parse" aria-label="Permalink to “parse()”">​</a></h4><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> EpubBook </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">parse</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() throws EpubException</span></span></code></pre></div><p>解析 EPUB 文件并返回 EpubBook 对象。如果已缓存结果，将返回缓存的解析结果。</p><p>返回:</p><ul><li><code>EpubBook</code>: 解析出的 EPUB 书籍对象</li></ul><p>抛出:</p><ul><li><code>EpubException</code>: 解析过程中发生错误</li></ul><h4 id="parsewithoutcache" tabindex="-1">parseWithoutCache() <a class="header-anchor" href="#parsewithoutcache" aria-label="Permalink to “parseWithoutCache()”">​</a></h4><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> EpubBook </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">parseWithoutCache</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() throws EpubException</span></span></code></pre></div><p>解析 EPUB 文件并返回 EpubBook 对象，跳过缓存。</p><p>返回:</p><ul><li><code>EpubBook</code>: 解析出的 EPUB 书籍对象</li></ul><p>抛出:</p><ul><li><code>EpubException</code>: 解析过程中发生错误</li></ul><h4 id="readepubcontent" tabindex="-1">readEpubContent() <a class="header-anchor" href="#readepubcontent" aria-label="Permalink to “readEpubContent()”">​</a></h4><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> static</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> String </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">readEpubContent</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(File epubFile, String entryPath) throws EpubException</span></span></code></pre></div><p>直接读取 EPUB 文件中的特定内容。</p><p>参数:</p><ul><li><code>epubFile</code>: EPUB 文件</li><li><code>entryPath</code>: 要读取的内部文件路径</li></ul><p>返回:</p><ul><li><code>String</code>: 文件内容</li></ul><p>抛出:</p><ul><li><code>EpubException</code>: 读取过程中发生错误</li></ul><h4 id="processhtmlchaptercontent" tabindex="-1">processHtmlChapterContent() <a class="header-anchor" href="#processhtmlchaptercontent" aria-label="Permalink to “processHtmlChapterContent()”">​</a></h4><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> static</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> processHtmlChapterContent</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(File epubFile, String entryPath, ContentProcessor processor) throws EpubException</span></span></code></pre></div><p>流式处理 HTML 章节内容。</p><p>参数:</p><ul><li><code>epubFile</code>: EPUB 文件</li><li><code>entryPath</code>: 章节文件路径</li><li><code>processor</code>: 内容处理器</li></ul><p>抛出:</p><ul><li><code>EpubException</code>: 处理过程中发生错误</li></ul><h4 id="processmultiplehtmlchapters" tabindex="-1">processMultipleHtmlChapters() <a class="header-anchor" href="#processmultiplehtmlchapters" aria-label="Permalink to “processMultipleHtmlChapters()”">​</a></h4><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> static</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> processMultipleHtmlChapters</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(File epubFile, List</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">String</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> entryPaths, ChapterContentProcessor processor) throws EpubException</span></span></code></pre></div><p>批量流式处理多个 HTML 章节。</p><p>参数:</p><ul><li><code>epubFile</code>: EPUB 文件</li><li><code>entryPaths</code>: 章节文件路径列表</li><li><code>processor</code>: 章节内容处理器</li></ul><p>抛出:</p><ul><li><code>EpubException</code>: 处理过程中发生错误</li></ul><h4 id="parsemetadata" tabindex="-1">parseMetadata() <a class="header-anchor" href="#parsemetadata" aria-label="Permalink to “parseMetadata()”">​</a></h4><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> static</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Metadata </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">parseMetadata</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(String opfContent) throws EpubException</span></span></code></pre></div><p>解析 OPF 文件内容并提取元数据。</p><p>参数:</p><ul><li><code>opfContent</code>: OPF 文件内容</li></ul><p>返回:</p><ul><li><code>Metadata</code>: 解析出的元数据对象</li></ul><p>抛出:</p><ul><li><code>EpubException</code>: 解析过程中发生错误</li></ul><h4 id="parsencx" tabindex="-1">parseNcx() <a class="header-anchor" href="#parsencx" aria-label="Permalink to “parseNcx()”">​</a></h4><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> static</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> List</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">EpubChapter</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> parseNcx</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(String ncxContent) throws EpubException</span></span></code></pre></div><p>解析 NCX 文件内容并提取章节信息。</p><p>参数:</p><ul><li><code>ncxContent</code>: NCX 文件内容</li></ul><p>返回:</p><ul><li><code>List&lt;EpubChapter&gt;</code>: 解析出的章节列表</li></ul><p>抛出:</p><ul><li><code>EpubException</code>: 解析过程中发生错误</li></ul><h4 id="parsenav" tabindex="-1">parseNav() <a class="header-anchor" href="#parsenav" aria-label="Permalink to “parseNav()”">​</a></h4><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> static</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> List</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">EpubChapter</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> parseNav</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(String navContent) throws EpubException</span></span></code></pre></div><p>解析 NAV 文件内容并提取章节信息。</p><p>参数:</p><ul><li><code>navContent</code>: NAV 文件内容</li></ul><p>返回:</p><ul><li><code>List&lt;EpubChapter&gt;</code>: 解析出的章节列表</li></ul><p>抛出:</p><ul><li><code>EpubException</code>: 解析过程中发生错误</li></ul><h4 id="parsenavbytype" tabindex="-1">parseNavByType() <a class="header-anchor" href="#parsenavbytype" aria-label="Permalink to “parseNavByType()”">​</a></h4><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> static</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> List</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">EpubChapter</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> parseNavByType</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(String navContent, String type) throws EpubException</span></span></code></pre></div><p>根据类型解析 NAV 文件内容。</p><p>参数:</p><ul><li><code>navContent</code>: NAV 文件内容</li><li><code>type</code>: 导航类型（如 &quot;landmarks&quot;, &quot;page-list&quot;）</li></ul><p>返回:</p><ul><li><code>List&lt;EpubChapter&gt;</code>: 解析出的章节列表</li></ul><p>抛出:</p><ul><li><code>EpubException</code>: 解析过程中发生错误</li></ul><h4 id="getncxpath" tabindex="-1">getNcxPath() <a class="header-anchor" href="#getncxpath" aria-label="Permalink to “getNcxPath()”">​</a></h4><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> static</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> String </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getNcxPath</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(String opfContent, String basePath) throws EpubException</span></span></code></pre></div><p>从 OPF 文件中获取 NCX 文件路径。</p><p>参数:</p><ul><li><code>opfContent</code>: OPF 文件内容</li><li><code>basePath</code>: 基础路径</li></ul><p>返回:</p><ul><li><code>String</code>: NCX 文件路径</li></ul><p>抛出:</p><ul><li><code>EpubException</code>: 解析过程中发生错误</li></ul><h4 id="getnavpath" tabindex="-1">getNavPath() <a class="header-anchor" href="#getnavpath" aria-label="Permalink to “getNavPath()”">​</a></h4><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> static</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> String </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getNavPath</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(String opfContent, String basePath) throws EpubException</span></span></code></pre></div><p>从 OPF 文件中获取 NAV 文件路径。</p><p>参数:</p><ul><li><code>opfContent</code>: OPF 文件内容</li><li><code>basePath</code>: 基础路径</li></ul><p>返回:</p><ul><li><code>String</code>: NAV 文件路径，如果不存在则返回 null</li></ul><p>抛出:</p><ul><li><code>EpubException</code>: 解析过程中发生错误</li></ul><h4 id="parseresources" tabindex="-1">parseResources() <a class="header-anchor" href="#parseresources" aria-label="Permalink to “parseResources()”">​</a></h4><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> static</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> List</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">EpubResource</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> parseResources</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(String opfContent, String basePath, File epubFile) throws EpubException</span></span></code></pre></div><p>解析 OPF 文件内容并提取所有资源文件。</p><p>参数:</p><ul><li><code>opfContent</code>: OPF 文件内容</li><li><code>basePath</code>: 基础路径</li><li><code>epubFile</code>: EPUB 文件</li></ul><p>返回:</p><ul><li><code>List&lt;EpubResource&gt;</code>: 解析出的资源列表</li></ul><p>抛出:</p><ul><li><code>EpubException</code>: 解析过程中发生错误</li></ul>',109)])])}const g=s(l,[["render",p]]);export{c as __pageData,g as default};
