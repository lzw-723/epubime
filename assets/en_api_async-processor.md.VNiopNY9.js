import{_ as e,c as i,o as a,ah as l}from"./chunks/framework.BEBVyHNm.js";const u=JSON.parse('{"title":"AsyncEpubProcessor","description":"","frontmatter":{},"headers":[],"relativePath":"en/api/async-processor.md","filePath":"en/api/async-processor.md"}'),t={name:"en/api/async-processor.md"};function n(o,s,r,p,h,c){return a(),i("div",null,[...s[0]||(s[0]=[l(`<h1 id="asyncepubprocessor" tabindex="-1">AsyncEpubProcessor <a class="header-anchor" href="#asyncepubprocessor" aria-label="Permalink to “AsyncEpubProcessor”">​</a></h1><p><code>AsyncEpubProcessor</code> is an asynchronous processor in the EPUBime library that provides non-blocking EPUB processing operations. This class allows users to execute various EPUB parsing and processing tasks in background threads, avoiding blocking the main thread.</p><h2 id="class-definition" tabindex="-1">Class Definition <a class="header-anchor" href="#class-definition" aria-label="Permalink to “Class Definition”">​</a></h2><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> AsyncEpubProcessor</span></span></code></pre></div><h2 id="constructors" tabindex="-1">Constructors <a class="header-anchor" href="#constructors" aria-label="Permalink to “Constructors”">​</a></h2><h3 id="asyncepubprocessor-1" tabindex="-1">AsyncEpubProcessor() <a class="header-anchor" href="#asyncepubprocessor-1" aria-label="Permalink to “AsyncEpubProcessor()”">​</a></h3><p>Creates an asynchronous processor with the default executor (cached thread pool).</p><h3 id="asyncepubprocessor-executor-executor" tabindex="-1">AsyncEpubProcessor(Executor executor) <a class="header-anchor" href="#asyncepubprocessor-executor-executor" aria-label="Permalink to “AsyncEpubProcessor(Executor executor)”">​</a></h3><p>Creates an asynchronous processor with a custom executor.</p><p><strong>Parameters:</strong></p><ul><li><code>executor</code>: The executor to use for asynchronous operations</li></ul><h2 id="methods" tabindex="-1">Methods <a class="header-anchor" href="#methods" aria-label="Permalink to “Methods”">​</a></h2><h3 id="parsebookasync-file-epubfile" tabindex="-1">parseBookAsync(File epubFile) <a class="header-anchor" href="#parsebookasync-file-epubfile" aria-label="Permalink to “parseBookAsync(File epubFile)”">​</a></h3><p>Asynchronously parses an EPUB file.</p><p><strong>Parameters:</strong></p><ul><li><code>epubFile</code>: The EPUB file to parse</li></ul><p><strong>Returns:</strong></p><ul><li><code>CompletableFuture&lt;EpubBook&gt;</code>: CompletableFuture containing the parsed EpubBook</li></ul><h3 id="parsebookasync-file-epubfile-boolean-usecache-boolean-lazyloading" tabindex="-1">parseBookAsync(File epubFile, boolean useCache, boolean lazyLoading) <a class="header-anchor" href="#parsebookasync-file-epubfile-boolean-usecache-boolean-lazyloading" aria-label="Permalink to “parseBookAsync(File epubFile, boolean useCache, boolean lazyLoading)”">​</a></h3><p>Asynchronously parses an EPUB file with specified cache and lazy loading options.</p><p><strong>Parameters:</strong></p><ul><li><code>epubFile</code>: The EPUB file to parse</li><li><code>useCache</code>: Whether to use caching</li><li><code>lazyLoading</code>: Whether to use lazy loading</li></ul><p><strong>Returns:</strong></p><ul><li><code>CompletableFuture&lt;EpubBook&gt;</code>: CompletableFuture containing the parsed EpubBook</li></ul><h3 id="parsemetadataasync-file-epubfile" tabindex="-1">parseMetadataAsync(File epubFile) <a class="header-anchor" href="#parsemetadataasync-file-epubfile" aria-label="Permalink to “parseMetadataAsync(File epubFile)”">​</a></h3><p>Asynchronously parses the metadata of an EPUB file.</p><p><strong>Parameters:</strong></p><ul><li><code>epubFile</code>: The EPUB file to parse</li></ul><p><strong>Returns:</strong></p><ul><li><code>CompletableFuture&lt;Metadata&gt;</code>: CompletableFuture containing the metadata</li></ul><h3 id="parsetableofcontentsasync-file-epubfile" tabindex="-1">parseTableOfContentsAsync(File epubFile) <a class="header-anchor" href="#parsetableofcontentsasync-file-epubfile" aria-label="Permalink to “parseTableOfContentsAsync(File epubFile)”">​</a></h3><p>Asynchronously parses the table of contents of an EPUB file.</p><p><strong>Parameters:</strong></p><ul><li><code>epubFile</code>: The EPUB file to parse</li></ul><p><strong>Returns:</strong></p><ul><li><code>CompletableFuture&lt;List&lt;EpubChapter&gt;&gt;</code>: CompletableFuture containing the list of chapters</li></ul><h3 id="getbookinfoasync-file-epubfile" tabindex="-1">getBookInfoAsync(File epubFile) <a class="header-anchor" href="#getbookinfoasync-file-epubfile" aria-label="Permalink to “getBookInfoAsync(File epubFile)”">​</a></h3><p>Asynchronously gets basic information about an EPUB file.</p><p><strong>Parameters:</strong></p><ul><li><code>epubFile</code>: The EPUB file to analyze</li></ul><p><strong>Returns:</strong></p><ul><li><code>CompletableFuture&lt;EpubReader.EpubInfo&gt;</code>: CompletableFuture containing basic EPUB information</li></ul><h3 id="processchaptersasync-file-epubfile-biconsumer-lt-epubchapter-inputstream-gt-processor" tabindex="-1">processChaptersAsync(File epubFile, BiConsumer&lt;EpubChapter, InputStream&gt; processor) <a class="header-anchor" href="#processchaptersasync-file-epubfile-biconsumer-lt-epubchapter-inputstream-gt-processor" aria-label="Permalink to “processChaptersAsync(File epubFile, BiConsumer&amp;lt;EpubChapter, InputStream&amp;gt; processor)”">​</a></h3><p>Asynchronously processes chapters using stream processing.</p><p><strong>Parameters:</strong></p><ul><li><code>epubFile</code>: The EPUB file to process</li><li><code>processor</code>: Processor for each chapter</li></ul><p><strong>Returns:</strong></p><ul><li><code>CompletableFuture&lt;Void&gt;</code>: CompletableFuture that completes when all chapters are processed</li></ul><h3 id="processchapterasync-file-epubfile-string-chapterid-consumer-lt-inputstream-gt-processor" tabindex="-1">processChapterAsync(File epubFile, String chapterId, Consumer&lt;InputStream&gt; processor) <a class="header-anchor" href="#processchapterasync-file-epubfile-string-chapterid-consumer-lt-inputstream-gt-processor" aria-label="Permalink to “processChapterAsync(File epubFile, String chapterId, Consumer&amp;lt;InputStream&amp;gt; processor)”">​</a></h3><p>Asynchronously processes a specific chapter.</p><p><strong>Parameters:</strong></p><ul><li><code>epubFile</code>: The EPUB file</li><li><code>chapterId</code>: The ID of the chapter to process</li><li><code>processor</code>: Processor for the chapter content</li></ul><p><strong>Returns:</strong></p><ul><li><code>CompletableFuture&lt;Void&gt;</code>: CompletableFuture that completes when the chapter is processed</li></ul><h3 id="processresourcesasync-file-epubfile-function-lt-epubresource-void-gt-processor" tabindex="-1">processResourcesAsync(File epubFile, Function&lt;EpubResource, Void&gt; processor) <a class="header-anchor" href="#processresourcesasync-file-epubfile-function-lt-epubresource-void-gt-processor" aria-label="Permalink to “processResourcesAsync(File epubFile, Function&amp;lt;EpubResource, Void&amp;gt; processor)”">​</a></h3><p>Asynchronously processes all resources.</p><p><strong>Parameters:</strong></p><ul><li><code>epubFile</code>: The EPUB file</li><li><code>processor</code>: Function to process each resource</li></ul><p><strong>Returns:</strong></p><ul><li><code>CompletableFuture&lt;Void&gt;</code>: CompletableFuture that completes when processing is done</li></ul><h3 id="getcoverasync-file-epubfile" tabindex="-1">getCoverAsync(File epubFile) <a class="header-anchor" href="#getcoverasync-file-epubfile" aria-label="Permalink to “getCoverAsync(File epubFile)”">​</a></h3><p>Asynchronously gets the cover resource.</p><p><strong>Parameters:</strong></p><ul><li><code>epubFile</code>: The EPUB file</li></ul><p><strong>Returns:</strong></p><ul><li><code>CompletableFuture&lt;EpubResource&gt;</code>: CompletableFuture containing the cover resource, or null if not found</li></ul><h3 id="getresourceasync-file-epubfile-string-resourceid" tabindex="-1">getResourceAsync(File epubFile, String resourceId) <a class="header-anchor" href="#getresourceasync-file-epubfile-string-resourceid" aria-label="Permalink to “getResourceAsync(File epubFile, String resourceId)”">​</a></h3><p>Asynchronously gets a specific resource.</p><p><strong>Parameters:</strong></p><ul><li><code>epubFile</code>: The EPUB file</li><li><code>resourceId</code>: The resource ID</li></ul><p><strong>Returns:</strong></p><ul><li><code>CompletableFuture&lt;EpubResource&gt;</code>: CompletableFuture containing the resource, or null if not found</li></ul><h3 id="validateasync-file-epubfile" tabindex="-1">validateAsync(File epubFile) <a class="header-anchor" href="#validateasync-file-epubfile" aria-label="Permalink to “validateAsync(File epubFile)”">​</a></h3><p>Asynchronously validates an EPUB file.</p><p><strong>Parameters:</strong></p><ul><li><code>epubFile</code>: The EPUB file to validate</li></ul><p><strong>Returns:</strong></p><ul><li><code>CompletableFuture&lt;Boolean&gt;</code>: CompletableFuture containing the validation result</li></ul><h3 id="loadenhancedbookasync-file-epubfile" tabindex="-1">loadEnhancedBookAsync(File epubFile) <a class="header-anchor" href="#loadenhancedbookasync-file-epubfile" aria-label="Permalink to “loadEnhancedBookAsync(File epubFile)”">​</a></h3><p>Asynchronously loads an enhanced book object.</p><p><strong>Parameters:</strong></p><ul><li><code>epubFile</code>: The EPUB file</li></ul><p><strong>Returns:</strong></p><ul><li><code>CompletableFuture&lt;EpubBookEnhanced&gt;</code>: CompletableFuture containing the enhanced book object</li></ul><h3 id="loadenhancedmetadataasync-file-epubfile" tabindex="-1">loadEnhancedMetadataAsync(File epubFile) <a class="header-anchor" href="#loadenhancedmetadataasync-file-epubfile" aria-label="Permalink to “loadEnhancedMetadataAsync(File epubFile)”">​</a></h3><p>Asynchronously loads enhanced metadata.</p><p><strong>Parameters:</strong></p><ul><li><code>epubFile</code>: The EPUB file</li></ul><p><strong>Returns:</strong></p><ul><li><code>CompletableFuture&lt;MetadataEnhanced&gt;</code>: CompletableFuture containing the enhanced metadata</li></ul><h3 id="processmultiplebooksasync-list-lt-file-gt-epubfiles-function-lt-epubbook-epubbook-gt-processor" tabindex="-1">processMultipleBooksAsync(List&lt;File&gt; epubFiles, Function&lt;EpubBook, EpubBook&gt; processor) <a class="header-anchor" href="#processmultiplebooksasync-list-lt-file-gt-epubfiles-function-lt-epubbook-epubbook-gt-processor" aria-label="Permalink to “processMultipleBooksAsync(List&amp;lt;File&amp;gt; epubFiles, Function&amp;lt;EpubBook, EpubBook&amp;gt; processor)”">​</a></h3><p>Processes multiple EPUB files in parallel.</p><p><strong>Parameters:</strong></p><ul><li><code>epubFiles</code>: List of EPUB files to process</li><li><code>processor</code>: Function to process each book</li></ul><p><strong>Returns:</strong></p><ul><li><code>CompletableFuture&lt;List&lt;EpubBook&gt;&gt;</code>: CompletableFuture containing the list of processed books</li></ul><h3 id="getchaptercountasync-file-epubfile" tabindex="-1">getChapterCountAsync(File epubFile) <a class="header-anchor" href="#getchaptercountasync-file-epubfile" aria-label="Permalink to “getChapterCountAsync(File epubFile)”">​</a></h3><p>Asynchronously gets the chapter count.</p><p><strong>Parameters:</strong></p><ul><li><code>epubFile</code>: The EPUB file</li></ul><p><strong>Returns:</strong></p><ul><li><code>CompletableFuture&lt;Integer&gt;</code>: CompletableFuture containing the chapter count</li></ul><h3 id="getresourcecountasync-file-epubfile" tabindex="-1">getResourceCountAsync(File epubFile) <a class="header-anchor" href="#getresourcecountasync-file-epubfile" aria-label="Permalink to “getResourceCountAsync(File epubFile)”">​</a></h3><p>Asynchronously gets the resource count.</p><p><strong>Parameters:</strong></p><ul><li><code>epubFile</code>: The EPUB file</li></ul><p><strong>Returns:</strong></p><ul><li><code>CompletableFuture&lt;Integer&gt;</code>: CompletableFuture containing the resource count</li></ul><h3 id="shutdown" tabindex="-1">shutdown() <a class="header-anchor" href="#shutdown" aria-label="Permalink to “shutdown()”">​</a></h3><p>Shuts down the processor and releases resources.</p><h2 id="usage-examples" tabindex="-1">Usage Examples <a class="header-anchor" href="#usage-examples" aria-label="Permalink to “Usage Examples”">​</a></h2><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Create asynchronous processor</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">AsyncEpubProcessor processor </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> AsyncEpubProcessor</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Asynchronously parse book</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">CompletableFuture&lt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">EpubBook</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; futureBook </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> processor.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">parseBookAsync</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> File</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;book.epub&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">));</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">futureBook.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">thenAccept</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(book </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    System.out.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">println</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Parsing completed: &quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> +</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> book.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getMetadata</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getTitle</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">());</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">exceptionally</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(throwable </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    System.err.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">println</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Parsing failed: &quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> +</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> throwable.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getMessage</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">());</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Asynchronously get cover</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">CompletableFuture&lt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">EpubResource</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; futureCover </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> processor.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getCoverAsync</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> File</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;book.epub&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">));</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">futureCover.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">thenAccept</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(cover </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (cover </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        System.out.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">println</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Cover found: &quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> +</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> cover.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getHref</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">());</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Asynchronously process multiple books</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">List&lt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">File</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; epubFiles </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Arrays.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">asList</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> File</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;book1.epub&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">), </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> File</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;book2.epub&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">));</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">CompletableFuture&lt;List&lt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">EpubBook</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;&gt; futureBooks </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> processor.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">processMultipleBooksAsync</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(epubFiles, </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    book </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // Process each book</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> book;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">futureBooks.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">thenAccept</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(books </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    System.out.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">println</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Processed &quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> +</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> books.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">size</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot; books&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Shutdown processor when done</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">processor.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">shutdown</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span></code></pre></div><h2 id="notes" tabindex="-1">Notes <a class="header-anchor" href="#notes" aria-label="Permalink to “Notes”">​</a></h2><ul><li>When using the asynchronous processor, ensure that the processor is shut down before the application ends to release thread resources.</li><li>The results of asynchronous operations are provided through CompletableFuture, which can be followed up with methods like thenAccept and thenApply.</li><li>For long-running asynchronous operations, it is recommended to use appropriate thread pool configurations.</li></ul>`,114)])])}const d=e(t,[["render",n]]);export{u as __pageData,d as default};
