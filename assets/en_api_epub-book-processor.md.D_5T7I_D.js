import{_ as i,c as a,o as e,ah as l}from"./chunks/framework.BEBVyHNm.js";const d=JSON.parse('{"title":"API Reference","description":"","frontmatter":{},"headers":[],"relativePath":"en/api/epub-book-processor.md","filePath":"en/api/epub-book-processor.md"}'),n={name:"en/api/epub-book-processor.md"};function t(h,s,k,r,p,o){return e(),a("div",null,[...s[0]||(s[0]=[l(`<h1 id="api-reference" tabindex="-1">API Reference <a class="header-anchor" href="#api-reference" aria-label="Permalink to “API Reference”">​</a></h1><h2 id="epubbookprocessor" tabindex="-1">EpubBookProcessor <a class="header-anchor" href="#epubbookprocessor" aria-label="Permalink to “EpubBookProcessor”">​</a></h2><p><code>EpubBookProcessor</code> is the dedicated class for handling EpubBook-related business logic, following the Single Responsibility Principle, specifically responsible for book data processing and operations.</p><h3 id="cover-processing" tabindex="-1">Cover Processing <a class="header-anchor" href="#cover-processing" aria-label="Permalink to “Cover Processing”">​</a></h3><h4 id="getcover" tabindex="-1">getCover() <a class="header-anchor" href="#getcover" aria-label="Permalink to “getCover()”">​</a></h4><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> static</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> EpubResource </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getCover</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(EpubBook book)</span></span></code></pre></div><p>Get the cover resource of the book.</p><p>Parameters:</p><ul><li><code>book</code>: EpubBook instance</li></ul><p>Returns:</p><ul><li><code>EpubResource</code>: Cover resource object, or null if not found</li></ul><h4 id="cover-lookup-logic" tabindex="-1">Cover Lookup Logic <a class="header-anchor" href="#cover-lookup-logic" aria-label="Permalink to “Cover Lookup Logic”">​</a></h4><ol><li>Prioritize finding resources with <code>properties=&quot;cover-image&quot;</code></li><li>If not found, fall back to the cover field in metadata</li><li>Automatically apply resource fallback mechanism</li></ol><h3 id="resource-processing" tabindex="-1">Resource Processing <a class="header-anchor" href="#resource-processing" aria-label="Permalink to “Resource Processing”">​</a></h3><h4 id="getresource" tabindex="-1">getResource() <a class="header-anchor" href="#getresource" aria-label="Permalink to “getResource()”">​</a></h4><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> static</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> EpubResource </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getResource</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(EpubBook book, String resourceId)</span></span></code></pre></div><p>Get resource by resource ID.</p><p>Parameters:</p><ul><li><code>book</code>: EpubBook instance</li><li><code>resourceId</code>: Resource ID</li></ul><p>Returns:</p><ul><li><code>EpubResource</code>: Found resource object, or null if not found</li></ul><h4 id="getresourcewithfallback" tabindex="-1">getResourceWithFallback() <a class="header-anchor" href="#getresourcewithfallback" aria-label="Permalink to “getResourceWithFallback()”">​</a></h4><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> static</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> EpubResource </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getResourceWithFallback</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(EpubBook book, String resourceId)</span></span></code></pre></div><p>Get resource by resource ID and automatically apply fallback mechanism.</p><p>Parameters:</p><ul><li><code>book</code>: EpubBook instance</li><li><code>resourceId</code>: Resource ID</li></ul><p>Returns:</p><ul><li><code>EpubResource</code>: Resource object with fallback mechanism applied, or null if not found</li></ul><h3 id="data-loading" tabindex="-1">Data Loading <a class="header-anchor" href="#data-loading" aria-label="Permalink to “Data Loading”">​</a></h3><h4 id="loadallresourcedata" tabindex="-1">loadAllResourceData() <a class="header-anchor" href="#loadallresourcedata" aria-label="Permalink to “loadAllResourceData()”">​</a></h4><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> static</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> loadAllResourceData</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(EpubBook book) throws IOException</span></span></code></pre></div><p>Batch load all resource data into memory.</p><p>Parameters:</p><ul><li><code>book</code>: EpubBook instance</li></ul><p>Throws:</p><ul><li><code>IOException</code>: File reading exception</li></ul><h2 id="usage-example" tabindex="-1">Usage Example <a class="header-anchor" href="#usage-example" aria-label="Permalink to “Usage Example”">​</a></h2><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Get cover resource</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">EpubResource cover </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> EpubBookProcessor.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getCover</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(book);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (cover </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    System.out.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">println</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Cover: &quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> +</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> cover.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getHref</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">());</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Get specific resource</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">EpubResource image </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> EpubBookProcessor.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getResource</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(book, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;image1&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (image </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    System.out.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">println</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Image type: &quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> +</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> image.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getType</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">());</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Get resource with fallback mechanism</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">EpubResource resource </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> EpubBookProcessor.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getResourceWithFallback</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(book, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;fallback-resource&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Batch load resource data</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">try</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    EpubBookProcessor.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">loadAllResourceData</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(book);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    System.out.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">println</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;All resource data loaded&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">catch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (IOException </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">e</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    System.err.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">println</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Failed to load resource data: &quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> +</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> e.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getMessage</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">());</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div>`,38)])])}const E=i(n,[["render",t]]);export{d as __pageData,E as default};
